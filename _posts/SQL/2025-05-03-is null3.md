---
layout: post
title:  "[SQL] LV.3 업그레이드 할 수 없는 아이템 구하기(IS NULL)" 
subtitle: programmers
tags: [MySQL]
categories: SQL
---
<img width="100%" alt="Image" src="https://github.com/user-attachments/assets/576a3402-5d36-4141-8911-03a2e9c1a015" />

# 문제
<https://school.programmers.co.kr/learn/courses/30/lessons/273712>

## 테이블 구조

1. `ITEM_INFO`테이블
    - `ITEM_ID`: 아이템 ID
    - `ITEM_NAME`: 아이템 명
    - `RARITY`: 아이템의 희귀도
    - `PRICE`: 아이템의 가격
2. `ITEM_TREE`테이블
    - `ITEM_ID`: 아이템 ID
    - `PARENT_ITEM_ID`: PARENT 아이템의 ID

## 답안


```sql
SELECT I.ITEM_ID, I.ITEM_NAME, I.RARITY
FROM ITEM_INFO I
LEFT JOIN ITEM_TREE T
  ON T.PARENT_ITEM_ID = I.ITEM_ID
WHERE T.PARENT_ITEM_ID IS NULL
ORDER BY I.ITEM_ID DESC;
```

## 쿼리 설명


```sql
FROM ITEM_INFO I
LEFT JOIN ITEM_TREE T
  ON T.PARENT_ITEM_ID = I.ITEM_ID
```

- 어떤 아이템이 누군가의 부모로 쓰였는지 확인하려는 것
- 매칭이 되면 그 아이템은 부모로 등장한 것이고, 매칭이 안 되면 부모로 등장하지 않음


```sql
WHERE T.PARENT_ITEM_ID IS NULL
```

- LEFT JOIN 후 매칭이 실패한 행만 남김
