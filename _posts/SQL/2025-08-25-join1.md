---
layout: post
title:  "[SQL] LV.3 없어진 기록 찾기(JOIN)" 
subtitle: programmers
tags: [MySQL]
categories: SQL
---
<img width="100%" alt="Image" src="https://github.com/user-attachments/assets/576a3402-5d36-4141-8911-03a2e9c1a015" />

# 문제
<https://school.programmers.co.kr/learn/courses/30/lessons/59042>

## 테이블 구조

1. `ANMAL_INS`테이블
    - `ANIMAL_ID`: 동물의 아이디
    - `ANMIMAL_TYPE`: 생물 종
    - `DATETIME`: 보호 시작일
    - `INTAKE_CONDITION`: 보호 시작시 상태
    - `NAME`: 이름
    - `SEX_UPON_INTAKE`: 성별 및 중성화 여부
2. `ANMAL_OUTS`테이블
    - `ANIMAL_ID`: 동물의 아이디
    - `ANMIMAL_TYPE`: 생물 종
    - `DATETIME`: 보호 시작일
    - `NAME`: 이름
    - `SEX_UPON_INTAKE`: 성별 및 중성화 여부

## 답안


```sql
SELECT AO.ANIMAL_ID, AO.NAME
FROM ANIMAL_INS AI
RIGHT JOIN ANIMAL_OUTS AO ON AI.ANIMAL_ID = AO.ANIMAL_ID
WHERE AI.ANIMAL_ID IS NULL
ORDER BY ANIMAL_ID
```

## 쿼리 설명


```sql
RIGHT JOIN ANIMAL_OUTS AO ON AI.ANIMAL_ID = AO.ANIMAL_ID
```

- `ANIMAL_OUTS`기록은 모두 남고, `ANIMAL_INS`기록은 매칭 실패 시 `NULL`이 된다.


```sql
WHERE AI.ANIMAL_ID IS NULL
```

- 입소 기록이 매칭되지 않은 행만 남긴다.
