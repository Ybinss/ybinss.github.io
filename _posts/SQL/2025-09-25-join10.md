---
layout: post
title:  "[SQL] LV.4 취소되지 않은 진료 예약 조회하기(JOIN)" 
subtitle: programmers
tags: [MYSQL]
categories: SQL
---
<img width="100%" alt="Image" src="https://github.com/user-attachments/assets/576a3402-5d36-4141-8911-03a2e9c1a015" />

# 문제
<https://school.programmers.co.kr/learn/courses/30/lessons/132204>

## 테이블 구조

1. `PATIENT`테이블
    - `PT_NO`: 환자번호
    - `PT_NAME`: 환자이름
    - `GEND_CD`: 성별코드
    - `AGE`: 나이
    - `TLNO`: 전화번호
2. `DOCTOR`테이블
    - `DR_NAME`: 의사 이름
    - `DR_ID`: 의사ID
    - `LCNS_NO`: 면허번호
    - `HIRE_YMD`: 고용일자
    - `MCDP_CD`: 진료과코드
    - `TLNO`: 전화번호
3. `APPOINTMENT`테이블
    - `APNT_YMD`: 진료 예약일시
    - `APNT_NO`: 진료예약번호
    - `PT_NO`: 환자번호
    - `MCDP_CD`: 진료과코드
    - `MDDR_ID`: 의사ID
    - `APNT_CNCL_YN`: 예약취소여부
    - `APNT_CNCL_YMD`: 예약취소날짜

## 답안


```sql
SELECT A.APNT_NO, P.PT_NAME, A.PT_NO, A.MCDP_CD, D.DR_NAME, A.APNT_YMD
FROM PATIENT P
JOIN APPOINTMENT A ON P.PT_NO = A.PT_NO
JOIN DOCTOR D ON A.MDDR_ID = D.DR_ID
WHERE A.APNT_YMD LIKE '2022-04-13%' AND A.MCDP_CD = 'CS' AND A.APNT_CNCL_YN = 'N'
ORDER BY APNT_YMD
```
